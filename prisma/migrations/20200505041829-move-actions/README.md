# Migration `20200505041829-move-actions`

This migration has been generated by ignatif at 5/5/2020, 4:18:29 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Action" DROP CONSTRAINT IF EXiSTS "Action_userId_fkey",
DROP COLUMN "userId",
ADD COLUMN "postId" integer   ;

ALTER TABLE "public"."Action" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200505041746-add-actions..20200505041829-move-actions
--- datamodel.dml
+++ datamodel.dml
@@ -3,24 +3,24 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://rimhyfwhshaoij:a8c12a9d34d2222b8a09de6ec07ba6338f7c7620e3632449655088bc794f1a30@ec2-18-206-84-251.compute-1.amazonaws.com:5432/d45kjhmrotg8tr"
 }
 model User {
   id      Int     @default(autoincrement()) @id
   name    String  @unique
   posts   Post[]
-  actions Action[]
 }
 model Post {
   content   String?
   id        Int     @default(autoincrement()) @id
   title     String
   author    User?   @relation(fields: [authorId], references: [id])
   authorId  Int?
+  actions Action[]
 }
 model Action {
   id        Int     @default(autoincrement()) @id
```


